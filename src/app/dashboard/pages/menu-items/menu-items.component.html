<div class="flex justify-content-between">
  <app-title title="MenÃº" />
  <div class="flex gap-3 justify-content-center align-items-center">
    <p-button
      severity="success"
      icon="pi pi-plus font-medium"
      label="Nuevo plato"
      [rounded]="true"
      styleClass="text-sm"
    ></p-button>
  </div>
</div>
<p-card>
  <div class="flex w-full justify-content-end align-items-center">
    <span class="p-input-icon-left">
      <i class="pi pi-search"></i>
      <input
        pInputText
        type="text"
        placeholder="Buscar item"
        class="focus:border-orange-500 border-round-lg"
        style="height: 40px;"
      />
    </span>
  </div>
  <p-dataView #dv [value]="items()" [rows]="5" [paginator]="true">
    <ng-template pTemplate="list" let-products>
      <div class="grid grid-nogutter mt-2">
        <div class="col-12" *ngFor="let item of items(); let first = first">
          <div
            class="flex flex-column xl:flex-row xl:align-items-start p-4 gap-4 border-top-1 surface-border"
          >
            <!-- imageClass="w-full border-round-xl" -->
            <p-image
              imageClass="w-9 sm:w-16rem xl:w-10rem  shadow-2 block xl:block mx-auto border-round"
              [preview]="true"
              [src]="item.photo | item"
              [alt]="item.name"
            />
            <div
              class="flex flex-column sm:flex-row justify-content-between align-items-center xl:align-items-center flex-1 gap-4"
            >
              <div
                class="flex flex-column align-items-center sm:align-items-start gap-3"
              >
                <div class="text-2xl font-bold text-900">{{ item.name }}</div>
                <p-rating
                  [(ngModel)]="star"
                  [readonly]="false"
                  [cancel]="false"
                ></p-rating>
                <div class="flex align-items-center gap-3">
                  <span class="flex align-items-center gap-2">
                    <i class="pi pi-tag"></i>
                    <span class="font-semibold">Segundo</span>
                  </span>
                  @if (item.available === 1) {
                  <p-tag value="Disponible" severity="success" />
                  } @else {
                  <p-tag value="Agotado" severity="danger" />
                  }
                </div>
              </div>
              <div
                class="flex sm:flex-column align-items-center sm:align-items-end gap-3 sm:gap-2"
              >
                <span class="text-2xl font-semibold"
                  >{{ 'Bs. ' + item.price }}</span
                >
                <div class="flex gap-2">
                  <p-button
                    icon="pi pi-pencil font-medium text-xl"
                    [rounded]="true"
                    severity="warning"
                    [outlined]="true"
                    class="md:align-self-end"
                    (onClick)="showItem(item)"
                  />
                  <p-button
                    icon="pi pi-trash font-medium text-xl"
                    [rounded]="true"
                    severity="danger"
                    [outlined]="true"
                    class="md:align-self-end"
                    (onClick)="deleteItem(item)"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </p-dataView>
</p-card>
<p-toast></p-toast>
<p-confirmDialog
  styleClass="w-auto md:w-5"
  position="bottom"
></p-confirmDialog>
