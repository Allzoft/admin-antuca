<div class="w-full flex flex-col gap-3 mt-2 md:mt-0">
  <div class="flex w-full gap-3 md:gap-5">
    <div class="flex flex-col gap-2 w-full">
      <label for="username">Nombre</label>
      <p-iconfield >
        <p-inputicon styleClass="pi pi-user"></p-inputicon>
        <input
          id="username"
          type="text"
          pInputText
          [(ngModel)]="client.name"
          class="w-full p-inputtext-sm"
          [ngClass]="{ 'ng-invalid ng-dirty': client.name.length === 0 }"
          [ngClass]="{ 'ng-invalid ng-dirty': inputNameDirt }"
        />
      </p-iconfield>
    </div>

    <div class="flex flex-col gap-2 w-full">
      <label for="lastname">Apellido</label>
      <p-iconfield >
        <p-inputicon styleClass="pi pi-user"></p-inputicon>
        <input
          id="lastname"
          type="text"
          pInputText
          [(ngModel)]="client.lastname"
          class="w-full p-inputtext-sm"
          [ngClass]="{ 'ng-invalid ng-dirty': client.lastname.length === 0 }"
        />
      </p-iconfield>
    </div>
  </div>
  <div class="flex flex-col gap-2 w-full">
    <label for="username">Información adicional sobre el cliente:</label>
    <textarea
      rows="2"
      cols="30"
      pTextarea
      [(ngModel)]="client.info"
      [autoResize]="true"
      class="w-full text-sm"
    ></textarea>
  </div>
  <div class="flex w-full gap-3 md:gap-5">
    <div class="flex flex-col gap-2 w-full">
      <label for="email">C. I.</label>
      <p-iconfield >
        <p-inputicon styleClass="pi pi-id-card"></p-inputicon>
        <input
          id="email"
          type="text"
          pInputText
          [(ngModel)]="client.id"
          class="w-full p-inputtext-sm"
          [ngClass]="{ 'ng-invalid ng-dirty': client.id.length === 0 }"
        />
      </p-iconfield>
    </div>

    <div class="flex flex-col gap-2 w-full">
      <label for="email">Correo</label>
      <p-iconfield >
        <p-inputicon styleClass="pi pi-envelope"></p-inputicon>
        <input
          id="email"
          type="text"
          pInputText
          [(ngModel)]="client.email"
          class="w-full p-inputtext-sm"
        />
      </p-iconfield>
    </div>
  </div>
  <div class="flex flex-col md:flex-row w-full">
    <div class="w-full md:w-6/12 flex mt-0 md:ml-2 md:mt-2">
      <div class="flex flex-col gap-2 w-full">
        <label for="isActive">Tipo</label>
        <div class="flex items-center gap-2">
          <label
            htmlFor="type_business"
            class="block text-slate-900 dark:text-gray-100"
            style="white-space: nowrap; width: max-content"
            >B2C</label
          >
          <p-inputSwitch
            inputId="isActive"
            [(ngModel)]="client.type_business"
            [trueValue]="'B2B'"
            [falseValue]="'B2C'"
          ></p-inputSwitch>
          <label
            htmlFor="type_business"
            class="block text-slate-900 dark:text-gray-100"
            style="white-space: nowrap; width: max-content"
            >B2B</label
          >
        </div>
      </div>
    </div>
    <div class="flex flex-col gap-2 w-full md:w-6/12 ml-0 md:ml-5 mt-2 md:mt-0">
      <label for="email">Teléfono</label>
      <div class="flex gap-2">
        <p-dropdown
          [options]="optionsCodeCountries"
          [(ngModel)]="selectedCodeCountry"
          placeholder="+0"
          optionLabel="name"
          styleClass="p-inputtext-sm"
        >
          <ng-template pTemplate="selectedItem">
            @if (selectedCodeCountry) {
            <div class="flex items-center gap-2">
              <img [src]="selectedCodeCountry.flag" style="width: 18px" />
              <div>{{ selectedCodeCountry.code }}</div>
            </div>
            }
          </ng-template>
          <ng-template let-item pTemplate="item">
            <div class="flex items-center gap-2">
              <img [src]="item.flag" style="width: 18px" />
              <div>{{ item.code }}</div>
            </div>
          </ng-template>
        </p-dropdown>
        <p-inputNumber
          inputId="integeronly"
          [useGrouping]="false"
          [(ngModel)]="client.phone"
          inputStyleClass="w-full p-inputtext-sm"
          styleClass="w-full"
          class="w-full"
          [ngClass]="{ 'ng-dirty ng-invalid': inputPhoneDirt }"
        />
      </div>
    </div>
  </div>
  <div class="flex flex-col md:flex-row w-full gap-2 md:gap-0">
    <div class="flex flex-col gap-2 w-full md:w-6/12 ml-0 md:ml-2">
      <label
        htmlFor="gender"
        class="block text-slate-900 dark:text-gray-100"
        style="white-space: nowrap; width: max-content"
        >Género
      </label>
      <div class="flex items-center gap-2">
        <label
          htmlFor="gender"
          class="block text-slate-900 dark:text-gray-100"
          style="white-space: nowrap; width: max-content"
          >Femenino</label
        >
        <p-inputSwitch
          inputId="gender"
          [(ngModel)]="client.gender"
          styleClass="mt-2"
          [falseValue]="'Femenino'"
          [trueValue]="'Masculino'"
        ></p-inputSwitch>
        <label
          htmlFor="gender"
          class="block text-slate-900 dark:text-gray-100"
          style="white-space: nowrap; width: max-content"
          >Masculino</label
        >
      </div>
    </div>
    <div
      class="w-full md:w-6/12 flex justify-center items-center gap-3"
    >
      <p-button
        icon="pi pi-google"
        [rounded]="true"
        [outlined]="true"
        severity="danger"
      ></p-button>
      <div class="flex flex-col gap-2">
        <div class="flex items-center gap-2">
          <label
            htmlFor="google"
            class="block text-slate-900 dark:text-gray-100"
            style="white-space: nowrap; width: max-content"
            >No</label
          >
          <p-inputSwitch
            inputId="google"
            [(ngModel)]="client.google"
            styleClass="mt-2"
            [disabled]="true"
            [trueValue]="1"
            [falseValue]="0"
          ></p-inputSwitch>
          <label
            htmlFor="google"
            class="block text-slate-900 dark:text-gray-100"
            style="white-space: nowrap; width: max-content"
            >Si</label
          >
        </div>
      </div>
    </div>
  </div>
  <div class="w-full justify-end">
    <p-button
      styleClass="w-full poppins-medium"
      [label]="config.data ? 'Actualizar cliente' : 'Crear cliente'"
      severity="success"
      [disabled]="config.data?.disabled ? true : false"
      size="small"
      (onClick)="saveClient()"
    ></p-button>
  </div>
</div>
